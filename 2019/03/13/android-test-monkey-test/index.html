<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/Dong_small.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/Dong_medium.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/Dong_small.ico">
  <link rel="mask-icon" href="/images/Dong_small.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"blackist.org","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.12.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":null,"activeClass":"gitalk"},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="APP开发过程中，开人员往往自己做一些功能测试和稳定性测试，使用MonkeyTest做压力测试是常用方法，及时修复ANR、CRASH提高项目组整体的开发效率。">
<meta property="og:type" content="article">
<meta property="og:title" content="Android测试-Monkey Test">
<meta property="og:url" content="https://blackist.org/2019/03/13/android-test-monkey-test/index.html">
<meta property="og:site_name" content="Thinking in Coding">
<meta property="og:description" content="APP开发过程中，开人员往往自己做一些功能测试和稳定性测试，使用MonkeyTest做压力测试是常用方法，及时修复ANR、CRASH提高项目组整体的开发效率。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blogres.blackist.org/android-test-monkey-framework.png">
<meta property="og:image" content="https://blogres.blackist.org/android-test-monkey-params.png">
<meta property="article:published_time" content="2019-03-13T01:36:24.000Z">
<meta property="article:modified_time" content="2023-01-05T06:23:24.168Z">
<meta property="article:author" content="董猿外">
<meta property="article:tag" content="开发">
<meta property="article:tag" content="android">
<meta property="article:tag" content="测试">
<meta property="article:tag" content="monkey">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blogres.blackist.org/android-test-monkey-framework.png">


<link rel="canonical" href="https://blackist.org/2019/03/13/android-test-monkey-test/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://blackist.org/2019/03/13/android-test-monkey-test/","path":"2019/03/13/android-test-monkey-test/","title":"Android测试-Monkey Test"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Android测试-Monkey Test | Thinking in Coding</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Thinking in Coding</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E3%80%81Monkey%E7%AE%80%E4%BB%8B"><span class="nav-text">一、Monkey简介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="nav-text">二、基本使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E"><span class="nav-text">三、参数说明</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-%E5%9F%BA%E7%A1%80%E5%8F%82%E6%95%B0"><span class="nav-text">3.1 基础参数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#p-lt-%E5%85%81%E8%AE%B8%E7%9A%84%E5%8C%85%E5%90%8D%E5%88%97%E8%A1%A8-gt"><span class="nav-text">-p &lt;允许的包名列表&gt;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#v"><span class="nav-text">-v</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#s-%E9%9A%8F%E6%9C%BA%E6%95%B0%E7%A7%8D%E5%AD%90"><span class="nav-text">-s  (随机数种子)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E2%80%93throttle-%E5%BB%B6%E6%97%B6ms"><span class="nav-text">–throttle  (延时ms)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-%E5%8F%91%E9%80%81%E7%9A%84%E4%BA%8B%E4%BB%B6%E7%B1%BB%E5%9E%8B"><span class="nav-text">3.2 发送的事件类型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%97%A5%E5%BF%97%E5%88%86%E6%9E%90"><span class="nav-text">日志分析</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83"><span class="nav-text">参考</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="董猿外"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">董猿外</p>
  <div class="site-description" itemprop="description">Coding in Thinking.</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">78</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">78</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/blackist" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;blackist" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/liangl.dong@gmail.com" title="E-Mail → liangl.dong@gmail.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/liangl_dong" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;liangl_dong" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blackist.org/2019/03/13/android-test-monkey-test/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="董猿外">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Thinking in Coding">
      <meta itemprop="description" content="Coding in Thinking.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Android测试-Monkey Test | Thinking in Coding">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Android测试-Monkey Test
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-03-13 09:36:24" itemprop="dateCreated datePublished" datetime="2019-03-13T09:36:24+08:00">2019-03-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-01-05 14:23:24" itemprop="dateModified" datetime="2023-01-05T14:23:24+08:00">2023-01-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Android/" itemprop="url" rel="index"><span itemprop="name">Android</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>APP开发过程中，开人员往往自己做一些功能测试和稳定性测试，使用MonkeyTest做<strong>压力测试</strong>是常用方法，及时修复ANR、CRASH提高项目组整体的开发效率。</p>
<span id="more"></span>



<h2 id="一、Monkey简介"><a href="#一、Monkey简介" class="headerlink" title="一、Monkey简介"></a>一、Monkey简介</h2><p>Monkey是一种命令行工具，向系统发送伪随机的用户事件流(如按键输入、触摸屏输入、手势输入等)，这个工具存在于Android系统&#x2F;system&#x2F;framework&#x2F;monkey.jar，Android设备&#x2F;模拟器连接到PC后通过adb shell使用此工具，monkey测试流程如下。</p>
<p><img src="https://blogres.blackist.org/android-test-monkey-framework.png" alt="monkey架构"></p>
<p>因此两种方式使用monkey，第一种在PC端直接运行命令行：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell monkey --[params]</span><br></pre></td></tr></table></figure>

<p>第二种进入shell中使用：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">adb shell</span><br><span class="line"></span><br><span class="line">&gt; shell@android: monkey --[params]</span><br></pre></td></tr></table></figure>



<h2 id="二、基本使用"><a href="#二、基本使用" class="headerlink" title="二、基本使用"></a>二、基本使用</h2><p>使用如下命令进行monkey测试：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">adb shell monkey -p org.blackist.modulize --throttle <span class="number">100</span> -v -v <span class="number">100</span> &gt; test.log</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>-p org.blackist.modulize：测试包名为org.blackist.modulize</li>
<li>–throttle 100：每100ms发送一次事件</li>
<li>-v -v：指定日志级别</li>
<li>&gt; test.log：输出日志到文件</li>
</ul>
<p>如下是monkey日志中测试到的ANR和CRASH：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">Sleeping for 100 milliseconds</span><br><span class="line">:Sending Key (ACTION_DOWN): 23    // KEYCODE_DPAD_CENTER</span><br><span class="line">// CRASH: cn.edu.zstu.sdmp (pid 17698)</span><br><span class="line">// Short Msg: java.lang.NullPointerException</span><br><span class="line">// Long Msg: java.lang.NullPointerException: Attempt to invoke virtual method &#x27;com.wuhenzhizao.titlebar.widget.CommonTitleBar cn.edu.zstu.sdmp.manage.view.ManageActivity.getCommonTitle()&#x27; on a null object reference</span><br><span class="line">// Build Label: vivo/PD1603/PD1603:5.1.1/LMY47V/compiler07131528:user/release-keys</span><br><span class="line">// Build Changelist: eng.compiler.20180713.152451</span><br><span class="line">// Build Time: 1531466945000</span><br><span class="line">// java.lang.NullPointerException: Attempt to invoke virtual method &#x27;com.wuhenzhizao.titlebar.widget.CommonTitleBar cn.edu.zstu.sdmp.manage.view.ManageActivity.getCommonTitle()&#x27; on a null object reference</span><br><span class="line">//      at cn.edu.zstu.sdmp.manage.view.repair.RepairDetailFragment.initView(RepairDetailFragment.java:153)</span><br><span class="line">//      at cn.edu.zstu.sdmp.manage.view.repair.RepairDetailFragment.initViewAndData(RepairDetailFragment.java:113)</span><br><span class="line">//      at cn.edu.zstu.sdmp.common.base.BaseFragment.onCreateView(BaseFragment.java:135)</span><br><span class="line">//      at android.support.v4.app.Fragment.performCreateView(Fragment.java:2354)</span><br><span class="line">//      at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1419)</span><br><span class="line">//      at android.support.v4.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManager.java:1740)</span><br><span class="line">//      at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1809)</span><br><span class="line">//      at android.support.v4.app.BackStackRecord.executeOps(BackStackRecord.java:799)</span><br><span class="line">//      at android.support.v4.app.FragmentManagerImpl.executeOps(FragmentManager.java:2580)</span><br><span class="line">//      at android.support.v4.app.FragmentManagerImpl.executeOpsTogether(FragmentManager.java:2367)</span><br><span class="line">//      at android.support.v4.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManager.java:2322)</span><br><span class="line">//      at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:2229)</span><br><span class="line">//      at android.support.v4.app.FragmentManagerImpl$1.run(FragmentManager.java:700)</span><br><span class="line">//      at android.os.Handler.handleCallback(Handler.java:739)</span><br><span class="line">//      at android.os.Handler.dispatchMessage(Handler.java:95)</span><br><span class="line">//      at android.os.Looper.loop(Looper.java:135)</span><br><span class="line">//      at android.app.ActivityThread.main(ActivityThread.java:5418)</span><br><span class="line">//      at java.lang.reflect.Method.invoke(Native Method)</span><br><span class="line">//      at java.lang.reflect.Method.invoke(Method.java:372)</span><br><span class="line">//      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1037)</span><br><span class="line">//      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:832)</span><br><span class="line">//</span><br><span class="line">// NOT RESPONDING: cn.edu.zstu.sdmp (pid 17698)</span><br><span class="line">ANR in cn.edu.zstu.sdmp (cn.edu.zstu.sdmp/.manage.view.ManageActivity)</span><br><span class="line">PID: 17698</span><br><span class="line">Reason: Input dispatching timed out (Waiting to send key event because the focused window has not finished processing all of the input events that were previously delivered to it.  Outbound queue length: 0.  Wait queue length: 1.)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>可以清楚分析出错误所在的地方，所以monkey是个物美价廉的测试工具啊~</p>
<h2 id="三、参数说明"><a href="#三、参数说明" class="headerlink" title="三、参数说明"></a>三、参数说明</h2><p>monkey工具参数如下（图片<a target="_blank" rel="noopener" href="https://www.cnblogs.com/TankXiao/p/4815134.html">来源</a>）：</p>
<p><img src="https://blogres.blackist.org/android-test-monkey-params.png" alt="monkey参数"></p>
<h3 id="3-1-基础参数"><a href="#3-1-基础参数" class="headerlink" title="3.1 基础参数"></a>3.1 基础参数</h3><h4 id="p-lt-允许的包名列表-gt"><a href="#p-lt-允许的包名列表-gt" class="headerlink" title="-p &lt;允许的包名列表&gt;"></a>-p &lt;允许的包名列表&gt;</h4><p>用此参数指定一个或多个包。指定包之后，monkey将只允许系统启动指定的app。如果不指定包， monkey将允许系统启动设备中的所有app。  </p>
<p>指定一个包：adb shell monkey -p org.blackist.modulize 100   </p>
<p>指定多个包：adb shell monkey -p org.blackist.modulize  –p org.blackist.brouter  100</p>
<h4 id="v"><a href="#v" class="headerlink" title="-v"></a>-v</h4><p>用亍指定反馈信息级别（信息级别就是日志的详细程度），总共分3个级别，分别对应的参数如下： </p>
<p>Level 0  :  adb shell monkey -p org.blackist.modulize -v 100         &#x2F;&#x2F; 缺省值，仅提供启动提示、测试完成和最终结果等少量信息   </p>
<p>Level 1  :  adb shell monkey -p org.blackist.modulize -v  -v 100     &#x2F;&#x2F; 提供较为详细的日志，包括每个发送到Activity的事件信息</p>
<p>Level 2  :  adb shell monkey -p org.blackist.modulize -v  -v  -v 100 &#x2F;&#x2F; 最详细的日志，包括了测试中选中&#x2F;未选中的Activity信息</p>
<p>一般来说，使用Level0即可。</p>
<h4 id="s-随机数种子"><a href="#s-随机数种子" class="headerlink" title="-s  (随机数种子)"></a>-s <seed> (随机数种子)</h4><p>用亍指定伪随机数生成器的seed值，如果seed相同，则两次Monkey测试所产生的事件序列也相同的。  示例：</p>
<p>monkey测试1：adb shell monkey -p org.blackist.modulize –s 101 100                </p>
<p>monkey测试2：adb shell monkey -p org.blackist.modulize –s 101 100 </p>
<p>这个参数其实比较重要，比如我们只看日志不容易确定错误位置，需要结合monkey的UI测试过程，这时需要执行相同的随机序列复现步骤。</p>
<h4 id="–throttle-延时ms"><a href="#–throttle-延时ms" class="headerlink" title="–throttle  (延时ms)"></a>–throttle <delay> (延时ms)</h4><p>用亍指定用户操作（即事件）间的时延，单位是毫秒；如果不指定这个参数，monkey会尽可能快地生成和发送消息。 示例：</p>
<p>adb shell monkey -p org.blackist.modulize –throttle 3000 100   </p>
<h3 id="3-2-发送的事件类型"><a href="#3-2-发送的事件类型" class="headerlink" title="3.2 发送的事件类型"></a>3.2 发送的事件类型</h3><p>–pct-touch <percent> （点击事件）</p>
<p>参数percent为此事件的百分比，比如要求monkey完成10次点击事件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell monkey -p org.blackist.modulize -v --pct-touch 100 10</span><br></pre></td></tr></table></figure>

<p>可以看到如下日志，Event percentages是事件百分比，点击事件100%，其余都是0：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">:Monkey: seed=<span class="number">1552849997195</span> count=<span class="number">10</span></span><br><span class="line">:AllowPackage: cn.edu.zstu.sdmp</span><br><span class="line">:IncludeCategory: android.intent.category.LAUNCHER</span><br><span class="line">:IncludeCategory: android.intent.category.MONKEY</span><br><span class="line">// Event percentages:</span><br><span class="line">//   <span class="number">0</span>: <span class="number">100</span>.<span class="number">0</span>%</span><br><span class="line">//   <span class="number">1</span>: <span class="number">0</span>.<span class="number">0</span>%</span><br><span class="line">//   <span class="number">2</span>: <span class="number">0</span>.<span class="number">0</span>%</span><br><span class="line">//   <span class="number">3</span>: <span class="number">0</span>.<span class="number">0</span>%</span><br><span class="line">//   <span class="number">4</span>: -<span class="number">0</span>.<span class="number">0</span>%</span><br><span class="line">//   <span class="number">5</span>: <span class="number">0</span>.<span class="number">0</span>%</span><br><span class="line">//   <span class="number">6</span>: <span class="number">0</span>.<span class="number">0</span>%</span><br><span class="line">//   <span class="number">7</span>: <span class="number">0</span>.<span class="number">0</span>%</span><br><span class="line">//   <span class="number">8</span>: <span class="number">0</span>.<span class="number">0</span>%</span><br><span class="line">//   <span class="number">9</span>: <span class="number">0</span>.<span class="number">0</span>%</span><br><span class="line">//   <span class="number">10</span>: <span class="number">0</span>.<span class="number">0</span>%</span><br><span class="line">:Switch: #Intent;action=android.intent.action.MAIN;category=android.intent.category.LAUNCHER;launchFlags=<span class="number">0</span>x10200000;component=cn.edu.zstu.sdmp/.main.view.SplashActivity;end</span><br><span class="line">    // Allowing <span class="built_in">start</span> of Intent &#123; act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] cmp=cn.edu.zstu.sdmp/.main.view.SplashActivity &#125; <span class="keyword">in</span> package cn.edu.zstu.sdmp</span><br></pre></td></tr></table></figure>


<p>–pct-motion <percent> （动作事件）</p>
<p>–pct-trackball <percent> （轨迹球事件）</p>
<p>–pct-nav <percent> （基本导航事件，输入设备的上、下、左、右）</p>
<p>–pct-majornav <percent> （主要导航事件，兼容中间键，返回键，菜单按键）</p>
<p>–pct-syskeys <percent> （系统导航事件，HOME、BACK及拨号音量键）</p>
<p>–pct-appswitch <percent> （启动App事件）</p>
<p>–pct-anyevent <percnet> (不常用事件)</p>
<p>–ignore-crashes （忽略崩溃事件 CRASH）</p>
<p>–ignore-timeouts （忽略超时事件 ANR）</p>
<h2 id="日志分析"><a href="#日志分析" class="headerlink" title="日志分析"></a>日志分析</h2><p>monkey test 执行后分析保存的日志，可以搜索CRASH、ANR、Exception等关键字查看错误信息，详细的日志分析参考<a target="_blank" rel="noopener" href="http://www.cnblogs.com/wfh1988/archive/2010/11/16/1878224.html">http://www.cnblogs.com/wfh1988/archive/2010/11/16/1878224.html</a></p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a target="_blank" rel="noopener" href="https://yuti.site/2019/03/02/MonkeyTesting/?tdsourcetag=s_pctim_aiomsg">https://yuti.site/2019/03/02/MonkeyTesting/?tdsourcetag=s_pctim_aiomsg</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/TankXiao/p/4815134.html">https://www.cnblogs.com/TankXiao/p/4815134.html</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/gzh0222/article/details/6631988">https://blog.csdn.net/gzh0222/article/details/6631988</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/viewsky11/article/details/53889143">https://blog.csdn.net/viewsky11/article/details/53889143</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/TankXiao/p/4815134.html">https://www.cnblogs.com/TankXiao/p/4815134.html</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/MTbaby/article/details/78792215">https://blog.csdn.net/MTbaby/article/details/78792215</a></p>
<p>（完）</p>

    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>董猿外
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://blackist.org/2019/03/13/android-test-monkey-test/" title="Android测试-Monkey Test">https://blackist.org/2019/03/13/android-test-monkey-test/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/%E5%BC%80%E5%8F%91/" rel="tag"># 开发</a>
              <a href="/tags/android/" rel="tag"># android</a>
              <a href="/tags/%E6%B5%8B%E8%AF%95/" rel="tag"># 测试</a>
              <a href="/tags/monkey/" rel="tag"># monkey</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2019/03/09/javaweb-ar-deploy-path/" rel="prev" title="校友录-项目线上部署">
                  <i class="fa fa-chevron-left"></i> 校友录-项目线上部署
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2019/03/14/javaweb-ar-style/" rel="next" title="校友录-网站样式设计">
                  校友录-网站样式设计 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments gitalk-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">自由转载-非商用-非衍生-保持署名（<a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN/">创意共享4.0许可证</a>）</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  





  




<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.7.2/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin="anonymous">

<script class="next-config" data-name="gitalk" type="application/json">{"enable":true,"github_id":"blackist","repo":"blackist.github.io","client_id":"506775736a1ab7d38a56","client_secret":"b1c3f0dc07680f22f07a585fc81cd5288adb6729","admin_user":"blackist","distraction_free_mode":true,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token","language":"zh-CN","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.7.2/gitalk.min.js","integrity":"sha256-Pmj85ojLaPOWwRtlMJwmezB/Qg8BzvJp5eTzvXaYAfA="},"path_md5":"12fbb30e2907e427aede453b50028ddf"}</script>
<script src="/js/third-party/comments/gitalk.js"></script>

</body>
</html>
